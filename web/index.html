<!doctype html>
<html lang="ja">
<head>
    <link rel="stylesheet" href="node_modules/onsenui/css/onsenui.min.css">
    <link rel="stylesheet" href="node_modules/onsenui/css/onsen-css-components.css">
</head>
<body>

<template id="main">
    <v-ons-page>
        <v-ons-toolbar>
            <div class="center">{{ title }}</div>
        </v-ons-toolbar>

        <v-ons-tabbar swipeable position="auto"
                      :tabs="tabs"
                      :visible="true"
                      :index.sync="activeIndex"
        >
        </v-ons-tabbar>
    </v-ons-page>
</template>

<template id="home">
    <v-ons-page>
        <p style="text-align: center">
            Welcome home.<br><br>{{ myProp }}
        </p>
    </v-ons-page>
</template>

<template id="news">
    <v-ons-page>
        <p style="text-align: center">
            Some news here.
        </p>
    </v-ons-page>
</template>

<template id="settings">
    <v-ons-page>
        <p style="text-align: center">
            Change the settings.
        </p>
    </v-ons-page>
</template>

<div id="app"></div>

<script src="node_modules/vue/dist/vue.min.js"></script>
<script src="node_modules/onsenui/js/onsenui.js"></script>
<script src="node_modules/vue-onsenui/dist/vue-onsenui.min.js"></script>
<script>
    const homePage = {
        template: '#home',
        props: ['myProp']
    };

    const newsPage = {
        template: '#news'
    };

    const settingsPage = {
        template: '#settings'
    };

    new Vue({
        el: '#app',
        template: '#main',
        data() {
            return {
                activeIndex: 0,
                tabs: [
                    {
                        icon: this.md() ? null : 'ion-home',
                        label: 'Home',
                        page: homePage,
                        props: {
                            myProp: 'This is a page prop!'
                        },
                        key: "homePage"
                    },
                    {
                        icon: this.md() ? null : 'ion-ios-bell',
                        label: 'News',
                        page: newsPage,
                        badge: 7,
                        key: "newsPage"
                    },
                    {
                        icon: this.md() ? null : 'ion-ios-settings',
                        label: 'Settings',
                        page: settingsPage,
                        key: "settingsPage"
                    }
                ]
            };
        },
        methods: {
            md() {
                return this.$ons.platform.isAndroid();
            }
        },
        computed: {
            title() {
                return this.tabs[this.activeIndex].label;
            }
        }
    });
</script>
</body>
</html>